{"version":3,"sources":["components/MovieItem.jsx","components/MovieTabs.jsx","utils/api.js","components/App.jsx","index.js"],"names":["MovieItem","state","willWatch","_this2","this","_this$props","props","data","deleteMovie","addMovieToWillWatch","deleteMovieFromWillWatch","react_default","a","createElement","className","src","concat","backdrop_path","poster_path","alt","title","vote_average","type","onClick","setState","React","Component","classNames","require","MovieTabs","nextProps","nextState","sort_by","updateSortBy","handleClick","value","event","getClassLink","class1","tabs","nav","nav-pills","API_URL","API_KEY_3","App","_this","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","getMovies","fetch","page_num","then","response","json","movies","results","total_pages","nextPage","console","log","previousPage","movie","updateMovies","filter","item","id","updateMoviesWillWatch","toConsumableArray","moviesWillWatch","push","prevProps","prevState","components_MovieTabs","map","key","components_MovieItem","length","ReactDOM","render","components_App","document","getElementById"],"mappings":"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","file":"static/js/main.7a696123.chunk.js","sourcesContent":["import React from \"react\";\n\nclass MovieItem extends React.Component {\n  state = {\n    willWatch: false\n  };\n\n  render() {\n    const {\n      data,\n      deleteMovie,\n      addMovieToWillWatch,\n      deleteMovieFromWillWatch\n    } = this.props;\n    // props.data = {};\n    return (\n      <div className=\"card\">\n        <img\n          className=\"card-img-top\"\n          src={`https://image.tmdb.org/t/p/w500${data.backdrop_path ||\n            data.poster_path}`}\n          alt=\"\"\n        />\n        <div className=\"card-body\">\n          <h6 className=\"card-title\">{data.title}</h6>\n          <div className=\"d-flex justify-content-between align-items-center\">\n            <p className=\"mb-0\">Rating: {data.vote_average}</p>\n            {this.state.willWatch ? (\n              <button\n                type=\"button\"\n                className=\"btn btn-success\"\n                onClick={() => {\n                  this.setState({\n                    willWatch: false\n                  });\n                  deleteMovieFromWillWatch(data);\n                }}\n              >\n                Will Watch\n              </button>\n            ) : (\n                <button\n                  type=\"button\"\n                  className=\"btn btn-secondary\"\n                  onClick={() => {\n                    this.setState({\n                      willWatch: true\n                    });\n                    addMovieToWillWatch(data);\n                  }}\n                >\n                  Will Watch\n              </button>\n              )}\n          </div>\n          <button\n            type=\"button\"\n            onClick={() => {\n              deleteMovie(data);\n            }}\n          >\n            Delete\n          </button>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default MovieItem;\n","import React from \"react\";\r\n\r\nvar classNames = require('classnames');\r\n\r\nclass MovieTabs extends React.Component{\r\n    componentWillReceiveProps(nextProps,nextState){\r\n        //console.log(\"MovieTabs WillReceiveProps\");\r\n        //console.log(\"nextProps sort_by\", nextProps.sort_by);\r\n        //console.log(\"prevProps sort_by\", this.props.sort_by);\r\n    }\r\n\r\n    shouldComponentUpdate(nextProps,nextState){\r\n        if (nextProps.sort_by !== this.props.sort_by){\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n        \r\n    }\r\n\r\n    render(){\r\n        const {sort_by, updateSortBy} = this.props;\r\n        const handleClick = value  => {\r\n            return event => {  \r\n                updateSortBy(value);\r\n            };\r\n        };\r\n        \r\n        const getClassLink = value => {\r\n            return `nav-link ${sort_by === value ? \"active\" : \"\"}`\r\n        }\r\n    \r\n        //console.log(\"MovieTabs render\");\r\n        var class1 = classNames({'tabs':true, 'nav':true, 'nav-pills':true});\r\n        \r\n        return (\r\n         //   <ul className=\"tabs nav nav-pills\">\r\n       \r\n         <ul className={class1}>\r\n                <li className=\"nav-item\">\r\n                    <div className={getClassLink(\"popularity.desc\")}\r\n                        onClick={handleClick(\"popularity.desc\")}\r\n                        >\r\n                        Popularity desc\r\n                    </div>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <div className={getClassLink(\"revenue.desc\")}\r\n                        onClick={handleClick(\"revenue.desc\")}\r\n                        >\r\n                        Revenue desc\r\n                    </div>\r\n                </li>\r\n                <li className=\"nav-item\">\r\n                    <div className={getClassLink(\"vote_average.desc\")}\r\n                        onClick={handleClick(\"vote_average.desc\")}\r\n                        >\r\n                        Vote average desc\r\n                    </div>\r\n                </li>\r\n            </ul>\r\n        )\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\nexport default MovieTabs;","export const API_URL = \"https://api.themoviedb.org/3\";\n\nexport const API_KEY_3 = \"3f4ca4f3a9750da53450646ced312397\";\n\nexport const API_KEY_4 =\n  \"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzZjRjYTRmM2E5NzUwZGE1MzQ1MDY0NmNlZDMxMjM5NyIsInN1YiI6IjVhYzlmNWRkOTI1MTQxNjJhZTA1Njk0NiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.Fc4f9DVB6pFWh6hIjYe0NCC4pImdmNzDIfi_3Nb3tC4\";\n","import React from \"react\";\nimport { moviesData } from \"../moviesData\";\nimport MovieItem from \"./MovieItem\";\nimport MovieTabs from \"./MovieTabs\";\nimport {API_URL, API_KEY_3} from \"../utils/api\";\n\n// UI = fn(state, props)\n\n// App = new React.Component()\n\nclass App extends React.Component {\n  constructor() {\n    super();\n\n    this.state = {\n      movies: [],\n      moviesWillWatch: [],\n      sort_by:\"revenue.desc\",\n      page_num:1,\n      total_pages: null\n      };\n\n   // console.log(\"App constructor\");\n  }\n\n   componentDidMount ()  {\n     // console.log(\"App didMount\");\n      this.getMovies();\n    }\n\ncomponentDidUpdate(prevProps,prevState){\n // console.log(\"App didUpdate\");\n // console.log(\"prev\",prevProps,prevState);\n // console.log(this.props,this.state);\n  if (prevState.sort_by !== this.state.sort_by){\n    //console.log(\"App call api\");\n  }\n  this.getMovies();\n \n}\n  \n  getMovies = () => {\n    fetch (`${API_URL}/discover/movie?api_key=${API_KEY_3}&sort_by=${this.state.sort_by}&page=${this.state.page_num}`)\n        .then((response)=>{\n         //console.log(\"then\")\n         return response.json()\n      }).then((data)=>{\n      //console.log(\"data\",data) \n      this.setState({\n        movies:data.results,total_pages:data.total_pages})\n      }\n      )\n  }\n\n  nextPage = () =>{\n    if (this.state.movies && this.state.page_num < this.state.total_pages){\n      this.setState({\n        page_num:this.state.page_num+=1\n      }, ()=> this.getMovies())\n    }\n    console.log(\"next page\");\n  }\n\n  previousPage = () =>{\n    if (this.state.movies && this.state.page_num !== 1){\n      this.setState({\n        page_num:this.state.page_num-=1\n      }, ()=> this.getMovies())\n    }\n    console.log(\"previous page\");\n  }\n\n  deleteMovie = movie => {\n    //console.log(movie.id);\n    const updateMovies = this.state.movies.filter(item => item.id !== movie.id);\n    //console.log(updateMovies);\n\n    // this.state.movies = updateMovies;\n    this.setState({\n      movies: updateMovies\n    });\n  };\n\n  addMovieToWillWatch = movie => {\n    const updateMoviesWillWatch = [...this.state.moviesWillWatch];\n    updateMoviesWillWatch.push(movie);\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  deleteMovieFromWillWatch = movie => {\n    const updateMoviesWillWatch = this.state.moviesWillWatch.filter(\n      item => item.id !== movie.id\n    );\n\n    this.setState({\n      moviesWillWatch: updateMoviesWillWatch\n    });\n  };\n\n  updateSortBy = value => {\n    this.setState({\n      sort_by:value\n     });\n  };\n\n  //componentWillUnmount(){\n  ///  console.log(\"unmount\", this.props.data.title);\n  //}\n\n  render() {\n    //console.log(\"App render\", this.state.sort_by);\n    return (\n      <div className=\"container\">\n        <div className=\"row mt-4\">\n          <div className=\"col-9\">\n            <div className=\"row mb-4\">\n              <div className=\"col-12\">\n                 <MovieTabs sort_by={this.state.sort_by} updateSortBy={this.updateSortBy}/>\n              </div>\n            </div>\n            <div className=\"row\">\n             \n              {this.state.movies.map(movie => {\n                return (\n                  <div className=\"col-6 mb-4\" key={movie.id}>\n                    <MovieItem\n                      data={movie}\n                      deleteMovie={this.deleteMovie}\n                      addMovieToWillWatch={this.addMovieToWillWatch}\n                      deleteMovieFromWillWatch={this.deleteMovieFromWillWatch}\n                    />\n                  </div>\n                );\n              })}\n            </div>\n          </div>\n          <div className=\"col-3\">\n            <h4>Will Watch: {this.state.moviesWillWatch.length} movies</h4>\n            <ul className=\"list-group\">\n              {this.state.moviesWillWatch.map(movie => (\n                <li key={movie.id} className=\"list-group-item\">\n                  <div className=\"d-flex justify-content-between\">\n                    <p>{movie.title}</p>\n                    <p>{movie.vote_average}</p>\n                  </div>\n                </li>\n              ))}\n            </ul>\n          </div>\n        </div>\n        <div className=\"row mt-4 mb-4\"> \n          <button onClick={this.previousPage}>Previous Page</button>\n              <p>Current Page {this.state.page_num}</p>\n          <button onClick={this.nextPage}>Next Page</button>\n              <p>Total Page Count {this.state.total_pages}</p>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./components/App\";\n//import \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./css/bootstrap.min.css\";\nimport \"./stylesheets/index.scss\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}